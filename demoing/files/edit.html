<div class="row=fluid" ng-show="!!errorMsg">
  <div class="span9">
    <div class="alert alert-error" >
      <strong>Error!</strong> {{errorMsg}}
    </div>
  </div>
</div>

<div class="row-fluid">
  <form name="teamsForm" class="form-inline" ng-cloak>
    <legend>Teams</legend>
    <div class="span12">
      <div class="controls controls-row">
        <label class="control-label">Teams<br/>
        </label>
      </div>
      <div class="controls controls-row">
        <div ng-repeat="team in teams ">
          <ng-form class="form-inline" name="teamForm" au-form-name="teamForm{{$index}}"
            au-outer-form="teamsForm" class="form-horizontal" ng-cloak>
              <div class="controls controls-row">
                <label class="control-label">{{"Id" | express:$first}}<br ng-show="$first"/>
                  <input type="text" name="tid" placeholder="Team Id" class="input-mini" 
                    ng-model="team.tid" ng-required="false" 
                    ng-readonly="true" title="Team Id">
                </label>
                <label class="control-label">{{"Name" | express:$first}}<br ng-show="$first"/>
                  <input type="text" name="name" placeholder="Name" class="input-small" 
                    ng-model="team.name" ng-required="true" title="Team Name"
                    au-blur="updateTeam(teams[$index], $index)">
                </label>
                
                <div class="btn-group">
                  <button class='btn btn-mini' href="" title="Delete Team" 
                    ng-click="deleteTeam(teams[$index])"><i class="icon-remove"></i>
                  </button>
                </div>
                <span ng-style="{color:'red'}" ng-cloak ng-show="invalidTeam($index)"> Invalid</span>
              </div>
          </ng-form>
        </div>
        <button class='btn btn-mini' href="" title="Add Team" 
            ng-click="createTeam()"><i class="icon-plus"></i>
        </button><br/>
      </div>
  </form>
</div>
<div class="row=fluid">
  <div class="span9">
    <p/> <p/><!--Vertical Space-->
  </div>
</div>
<div class="row-fluid">
  <form name="playersForm" class="form-inline" ng-cloak>
    <legend>Players</legend>
    <div class="span12">
      <div class="controls controls-row">
        <label class="control-label">Players<br/>
        </label>
      </div>
      <div class="controls controls-row">
        <div ng-repeat="player in players ">
          <ng-form class="form-inline" name="playerForm" au-form-name="playerForm{{$index}}"
            au-outer-form="playersForm" class="form-horizontal" ng-cloak>
              <div class="controls controls-row">
                <label class="control-label">{{"Id" | express:$first}}<br ng-show="$first"/>
                  <input type="text" name="pid" placeholder="Player Id" class="input-mini" 
                    ng-model="player.pid" ng-required="false" 
                    ng-readonly="true" title="Player Id">
                </label>
                <label class="control-label">{{"Name" | express:$first}}<br ng-show="$first"/>
                  <input type="text" name="name" placeholder="Name" class="input-small" 
                    ng-model="player.name" ng-required="true" title="Player Name"
                    au-blur="updatePlayer(players[$index], $index)">
                </label>
                <label class="control-label">{{"Health" | express:$first}}<br ng-show="$first"/>
                  <input type="number" min="1" max="9" ng-pattern="/^[1-9]$/"  
                    name="health" placeholder="Health"
                    class="input-mini" ng-model="player.health" 
                    ng-required="true" title="Player Health" 
                    au-blur="updatePlayer(players[$index], $index)">
                </label>
                <label class="control-label">{{"Skill" | express:$first}}<br ng-show="$first"/>
                  <input type="number" min="1" max="9" ng-pattern="/^[1-9]$/" 
                    name="skill" placeholder="Skill" 
                    class="input-mini" ng-model="player.skill" 
                    ng-required="false" title="Player Skill"
                    au-blur="updatePlayer(players[$index],$index)">
                </label>
                <label class="control-label">{{"Team Id" | express:$first}}<br ng-show="$first"/>
                  <input type="text" name="tid" placeholder="Team Id" 
                    class="input-mini" ng-model="player.tid"  
                    ng-required="false" ng-readonly="true" title="Team Id">
                </label>
                <label>{{"Team" | express:$first}}<br ng-show="$first"/>
                  <select class="input-small" name="team"
                    ng-model="player.tid" title="Change Team"
                    ng-options="option.tid as option.name for option in teamOptions"
                    au-blur="updatePlayer(players[$index],$index)">
                  </select>
                </label>
                <div class="btn-group">
                  <button class='btn btn-mini' href="" title="Delete Player" 
                    ng-click="deletePlayer(players[$index])"><i class="icon-remove"></i>
                  </button>
                </div>
                <span ng-style="{color:'red'}" ng-cloak ng-show="invalidPlayer($index)"> Invalid</span>
              </div>
          </ng-form>
        </div>
        <button class='btn btn-mini' href="" title="Add Player" 
            ng-click="createPlayer()"><i class="icon-plus"></i>
        </button><br/>
      </div>
  </form>
</div>


<div class="row=fluid" ng-show="false">
  <div class="span9">
    <p/><p/>
    <h5>PID</h5>
    <p>{{pid}}</p>
    <h5>Player</h5>
    <p>{{player}}</p>
    <h5>Players</h5>
    <p>{{players}}</p>
    
  </div>
</div>

