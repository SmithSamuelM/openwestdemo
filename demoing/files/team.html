<div class="row-fluid">
  <div class="span3">
  <h3>Team: {{team.name}} {{team.tid}}</h3>
  </div><!--/span3-->
</div><!--/row-fluid-->


<div class="row-fluid">
  <div class="span3">
    <div class="form-inline">
      <label class="control-label" for="player-query-text">Filter</label>
      <input id="player-query-text" ng-model="playerQuery">
    </div>
  </div><!--/span3-->
</div><!--/row-fluid-->
  


<div class="row-fluid">
  <div class="span8">
    <table class="table table-striped table-bordered table-condensed table-hover">
      <caption  style="text-align:left"><h3>Players</h3></caption>
      <thead>
        <tr>
          <th><a href=""ng-click="sortField='pid';reverse=!reverse">Id</a></th>
          <th><a href="" ng-click="sortField='name';reverse=!reverse">Name</a></th>
          <th><a href="" ng-click="sortField='name';reverse=!reverse">Health</a></th>
          <th><a href="" ng-click="sortField='name';reverse=!reverse">Skill</a></th>
          <th><a href="" ng-click="sortField='name';reverse=!reverse">Team Id</a></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="player in players | filter:playerQuery | orderBy:sortField:reverse" >
          <td><a href="{{basePath}}/app/player/{{player.pid}}" title="Player Detail">{{player.pid}}</a></td>
          <td>{{player.name}}</td>
          <td>{{player.health}}</td>
          <td>{{player.skill}}</td>
          <td>{{player.tid}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row-fluid">
  <form name="teamForm" class="form-inline">
    <legend>Edit Team</legend>
    <div class="span12">
      <div class="controls controls-row">
        <label class="control-label">Id<br/>
          <input type="text" name="tid" placeholder="Team Id"
            class="input-mini" ng-model="team.tid" readonly>
        </label>
        <label class="control-label">Name<br/>
          <input type="text" name="name" placeholder="Name" required 
              class="input-small" ng-model="team.name">
        </label>
      </div>
      <div class="controls controls-row">
        <label class="control-label">Players<br/>
        </label>
      </div>
      <div class="controls controls-row">
          
            <div ng-repeat="player in players ">
              <ng-form class="form-inline" name="playerForm" au-form-name="playerForm{{$index}}"
                au-outer-form="teamForm" class="form-horizontal" ng-cloak>
                  <div class="controls controls-row">
                    <label class="control-label">Id<br/>
                      <input type="text" name="pid" placeholder="Player Id" class="input-mini" 
                        ng-model="player.pid" ng-required="true" 
                        ng-readonly="true" title="Player Id">
                    </label>
                    <label class="control-label">Name<br/>
                      <input type="text" name="name" placeholder="Name" class="input-mini" 
                        ng-model="player.name" ng-required="true" title="Player Name">
                    </label>
                    <label class="control-label">Health<br/>
                      <input type="text" name="health" placeholder="Health" class="input-mini" 
                        ng-model="player.health" ng-required="true" title="Player Health" >
                    </label>
                    <label class="control-label">Skill<br/>
                      <input type="text" name="skill" placeholder="Skill" class="input-mini" 
                        ng-model="player.skill" ng-required="true" title="Player Skill">
                    </label>
                    <label class="control-label">Team Id<br/>
                      <input type="text" name="tid" placeholder="Team Id" class="input-mini" 
                        ng-model="player.tid" ng-required="true"  ng-readonly="false" title="Team Id">
                    </label>
                    <div class="btn-group">
                      <button class='btn btn-mini' href="" title="Delete Player" 
                        ng-click="removePlayer($index)"><i class="icon-remove"></i>
                      </button>
                    </div>
                  </div>
              </ng-form>
            </div>
            
        <button class='btn btn-mini' href="" title="Add Player" 
            ng-click="addPlayer()"><i class="icon-plus"></i>
        </button><br/>
      </div>
      <p/>
      <div class="controls-row">
        <div class="btn-group pull-left">
          <button class="btn"  href="" ng-click="newOrder();editable=true;">New</button>
          <button class="btn"  href="" ng-click="saveOrder()" 
            ng-disabled="orderForm.$invalid || orderForm.$pristine">Save</button>
          <button class="btn" type="button" ng-click="refreshOrder(order.pid)"
            ng-disabled="!order.pid">Refresh</button>
        </div>
      </div> 
      <div class="controls-row" >
        <div ng-style="{color:'red'}" ng-cloak 
          ng-show="orderForm.$dirty && orderForm.$invalid">
          <span ng-show="!!orderForm.$error.required"> Incomplete:</span>
          <span ng-show="orderForm.pid.$error.required"> Port Id.</span>
          <span ng-show="orderForm.poid.$error.required"> Order Id.</span>
          <div ng-repeat="number in numbers">
            <span ng-show="numberRequired($index)">Number{{$index}}.</span>
          </div>
          <span ng-show="!!orderForm.$error.pattern"> Invalid: </span>
          <span ng-show="orderForm.poid.$error.pattern"> Order Id.</span>
          <div ng-repeat="number in numbers">
            <span ng-show="numberInvalid($index)">Number{{$index}}.</span>
          </div>
        </div>
      </div>
    </div>
    
  </form>
</div>
<p/>

    
<h4>Team</h4>
<p>{{team}}</p>
<h4>Players</h4>
<p>{{players}}</p>
